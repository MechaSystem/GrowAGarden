

repeat task.wait() until game:IsLoaded()

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TeleportService = game:GetService("TeleportService")
local LocalPlayer = Players.LocalPlayer
local Backpack = LocalPlayer:WaitForChild("Backpack")
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")
local CraftingService = ReplicatedStorage.GameEvents.CraftingGlobalObjectService

local DinoEvent = workspace:FindFirstChild("DinoEvent") or ReplicatedStorage.Modules:WaitForChild("UpdateService"):WaitForChild("DinoEvent")
if DinoEvent and DinoEvent:IsDescendantOf(ReplicatedStorage) then
    DinoEvent.Parent = workspace
end

local DinoTable = workspace:WaitForChild("DinoEvent"):WaitForChild("DinoCraftingTable")

if _G.BarryUpgradeTPLocation then
    HumanoidRootPart.CFrame = CFrame.new(
        -110.486427, 4.28767824, -1.02014983,
        0.220120788, 3.19104174e-08, -0.975472629,
        -8.86146694e-08, 1, 1.27163871e-08,
        0.975472629, 8.36420426e-08, 0.220120788
    )
    task.wait(0.5)
end

if _G.CraftingTPLocation then
    HumanoidRootPart.CFrame = CFrame.new(
        -94.2939835, 4.3999157, -15.5041933,
        0.0377389602, -2.25132712e-08, 0.999287605,
        9.56995461e-09, 1, 2.21679031e-08,
        -0.999287605, 8.72654304e-09, 0.0377389602
    )
    task.wait(0.5)
end

if _G.AutoPrimalEgg then
    CraftingService:FireServer("SetRecipe", DinoTable, "DinoEventWorkbench", "Primal Egg")
    task.wait(0.3)

    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:GetAttribute("h") == "Dinosaur Egg" then
            tool.Parent = Character
            task.wait(0.3)
            local uuid = tool:GetAttribute("c")
            if uuid then
                CraftingService:FireServer("InputItem", DinoTable, "DinoEventWorkbench", 1, {
                    ItemType = "PetEgg",
                    ItemData = { UUID = uuid }
                })
            end
            tool.Parent = Backpack
            break
        end
    end

    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:GetAttribute("f") == "Bone Blossom" then
            for _, t in ipairs(Character:GetChildren()) do
                if t:IsA("Tool") then
                    t.Parent = Backpack
                end
            end
            tool.Parent = Character
            task.wait(0.3)
            local uuid = tool:GetAttribute("c")
            if uuid then
                CraftingService:FireServer("InputItem", DinoTable, "DinoEventWorkbench", 2, {
                    ItemType = "Holdable",
                    ItemData = { UUID = uuid }
                })
            end
            tool.Parent = Backpack
            break
        end
    end

    task.wait(0.3)
    CraftingService:FireServer("Craft", DinoTable, "DinoEventWorkbench")
end

if _G.AutoSeedPack then
    CraftingService:FireServer("SetRecipe", DinoTable, "DinoEventWorkbench", "Ancient Seed Pack")
    task.wait(0.3)

    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:GetAttribute("h") == "Dinosaur Egg" then
            tool.Parent = Character
            task.wait(0.3)
            local uuid = tool:GetAttribute("c")
            if uuid then
                CraftingService:FireServer("InputItem", DinoTable, "DinoEventWorkbench", 1, {
                    ItemType = "PetEgg",
                    ItemData = { UUID = uuid }
                })
            end
            tool.Parent = Backpack
            break
        end
    end

    task.wait(0.3)
    CraftingService:FireServer("Craft", DinoTable, "DinoEventWorkbench")
end

if _G.AutoDinoEgg then
    CraftingService:FireServer("SetRecipe", DinoTable, "DinoEventWorkbench", "Dinosaur Egg")
    task.wait(0.3)

    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:GetAttribute("h") == "Common Egg" then
            tool.Parent = Character
            task.wait(0.3)
            local uuid = tool:GetAttribute("c")
            if uuid then
                CraftingService:FireServer("InputItem", DinoTable, "DinoEventWorkbench", 1, {
                    ItemType = "PetEgg",
                    ItemData = { UUID = uuid }
                })
            end
            tool.Parent = Backpack
            break
        end
    end

    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:GetAttribute("f") == "Bone Blossom" then
            for _, t in ipairs(Character:GetChildren()) do
                if t:IsA("Tool") then
                    t.Parent = Backpack
                end
            end
            tool.Parent = Character
            task.wait(0.3)
            local uuid = tool:GetAttribute("c")
            if uuid then
                CraftingService:FireServer("InputItem", DinoTable, "DinoEventWorkbench", 2, {
                    ItemType = "Holdable",
                    ItemData = { UUID = uuid }
                })
            end
            tool.Parent = Backpack
            break
        end
    end

    task.wait(0.3)
    CraftingService:FireServer("Craft", DinoTable, "DinoEventWorkbench")
end

if _G.TeleportOn then
    task.wait(_G.TeleportDelay)
    TeleportService:Teleport(game.PlaceId)
end
